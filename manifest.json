{
  "manifest_version": 3,
  "name": "Dora Helper",
  "version": "2.43",
  "description": "Metadaten-Validierung, DOI- & Buchkapitel-Import, PDF-Analyse und Open-Access-Checks f√ºr DORA.",
  "permissions": ["activeTab", "scripting", "storage", "downloads", "tabs"],
  "host_permissions": [
    "*://*.dora.lib4ri.ch/*",
    "https://api.unpaywall.org/*",
    "https://api.crossref.org/*",
    "https://api.openalex.org/*",
    "https://intranet.psi.ch/*",
    "http://localhost:8080/*",
    "http://localhost:7860/*",
    "http://127.0.0.1:7860/*",
    "<all_urls>",
    "file:///*"
  ],
  "optional_host_permissions": [
    "*://*/*"
  ],
  
  "browser_specific_settings": {
    "gecko": {
      "id": "dora@lib4ri.ch",
      "strict_min_version": "115.0",
      "update_url": "https://raw.githubusercontent.com/andihoffmann/DORA-Helper/refs/heads/main/updates.json",
      "data_collection_permissions": {
         "required": ["none"]
      }
    }
  },

  "options_ui": {
    "page": "options.html",
    "open_in_tab": false
  },

  "background": {
    "scripts": ["background.js"]
  },
  
  "icons": {
    "48": "icons/logo-48.png",
    "128": "icons/logo-128.png"
  },
  
  "action": {
    "default_icon": {
      "16": "icons/logo-16.png",
      "32": "icons/logo-32.png"
    }
  },

  "content_scripts": [
    {
      "matches": ["*://*.dora.lib4ri.ch/*"],
      "js": [
        "psi_data.js",
        "psi_affiliations.js",
        "content.js"
      ],
      "css": ["styles.css"]
    }
  ]
}
